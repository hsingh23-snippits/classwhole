/* The Course Page */
= content_for :title, "#{@course.to_s} - #{@course.title} at UIUC"
= javascript_include_tag "tabs"
= stylesheet_link_tag "tabs"
 

:javascript
  window.onload = function()
      {
          init();
      };
%div.scheduler-content  
  = javascript_include_tag "course"

  -uppercase_string = @semester.season[0,1].upcase + @semester.season[1..-1] + " " + @semester.year
  -name_and_number =  @subject.code + " " + @course.number.to_s
  %div.breadcrumb  
    = link_to  "Subjects", get_previous_url(get_previous_url(request.url))
    &#47 
    = link_to @subject.code, get_previous_url(request.url)
    &#47 
    =name_and_number


  %div.course_box    
    %button{:class => "button large green", :id=> "add_class_button", :type => "submit"}
      %span{:class => "hidden id"}= @course.id
      %span{:class => "font"} Add Class

    %div{:id => "course_num"}
      =name_and_number    
     
    %div{:id => "course_name"}
      =@course.title
    %div{:id => "hours"}  
      = @course.credit_hours.to_s + " credit hours"
    
    %p{:id => "course_description"}
      =@course.description

  
  %ul#tabs
    -for type in @types_of_sections
      %li              
        =link_to type, "#"+type

 
  %div.sections_table
    -for type in @types_of_sections      
      %div{:class => "tabContent", :id => "#{type}"}       
        %table{:class => "zebra-striped", :id => "#{type}"}                            
          %th
            Time
          %th
            Days
          %th
            Professor
          %th
            Building
          %th
            Section      
          -for meeting in @meetings            
            -if type == meeting.class_type
              %tr
                %td
                  -if !meeting.start_time.nil? and !meeting.end_time.nil?                               
                    = meeting.duration_s            
                %td
                  -if !meeting.days.nil?  
                    = meeting.days            
                %td
                  -if !meeting.instructors.first.nil?  
                    = meeting.instructors.first.full_name
                %td
                  -if !meeting.building.nil?  
                    = meeting.building[1..-1]
                %td
                  -if !meeting.section.code.nil?  
                    = meeting.section.code

  

