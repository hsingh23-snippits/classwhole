-#
-# This view is responsible for displaying a user's schedule
-# - see scheduler_helper for any unfamiliar functions
-#
-# arr_sections = 
- range = hour_range(sections)
- start_hour = range[0] - 1
- end_hour = range[1]
-#start_hour = 7
-#end_hour  = 21
- sections_in_days = sections_by_days(sections)

- if @section_hints
  - section_hints_in_days = sections_by_days(@section_hints)
- else 
  - section_hints_in_days = {}

%div{:class => "schedule-wrapper" }
  %ul.time-label
    - for hour in (start_hour..end_hour)
      %li= print_hour(hour)
  - colors = section_colors( sections )
  - sections_in_days.each do |day_code, sections|
    %ul{:class => "schedule-day #{day_code}", :day => day_code }
      %li.header= print_day(day_code)
      - for hour in (start_hour..end_hour)
        %li
      - sections.each do |section|
        = render 'section', :section => section, :start_hour => start_hour, :colors => colors
      - if section_hints_in_days[day_code]
        - section_hints_in_days[day_code].each do |section|
          %div.droppable= render 'section', :section => section, :start_hour => start_hour, :colors => colors
