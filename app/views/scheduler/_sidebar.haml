%div.sidebar
  %ul.courses
    - courses, course_section_hash = courses_from_sections( sections )
    - courses.each do |course|
      - sections = course_section_hash[course.id]
      %li.course-item
        %ul.course
          %li{:class=> "course-header #{colors[course.id]}"}
            %span.course-name= course.to_s
          %li 
            %span.course-title= course.title
            %span.course-hours= "(#{course.hours} hr)"
          -if nil
            %li 
              %span.title Description
              %span.data= shorten(course.description, 130)
          %ul.sections
            -if nil
              %li.header Sections
            - sections.each do |section|
              %li 
                %span{:class=>"section-type label"}= section.section_type
                %span.code= section.code
                %span.time= section.duration_s
                - if section.instructor
                  %span.instructor= "by #{section.instructor}"
                - if section.building
                  %span.location= "at #{section.building}"
  %a{ :class => "btn default save-schedule"} Save
  %a{ "data-controls-modal" => "register-modal", "data-backdrop" => "static", "data-keyboard" => "true", :class => "btn primary register-schedule"} Register
